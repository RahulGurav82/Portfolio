<% layout('layouts/boilerplate', { rightClass: 'work-right' }) %>
<link rel="stylesheet" href="/css/contact.css">
<div class="contacts">
    <div class="contact">
        <h1>Let's ðŸ‘‹ <span>Work</span> Together</h1>
        <p>I'm here to help if you're searching for a product designer to bring your idea to life or a design partner to help take your business to the next level.</p>
    </div>
    <div class="contact-form">
        <form action="https://api.web3forms.com/submit" method="POST">
            <!-- Your Web3Forms Access Key -->
            <input type="hidden" name="access_key" value="681bc259-acda-4971-bb69-f14ed5898c28">
            
            <div class="row">
                <div class="input">
                    <label for="name">Name</label>
                    <input type="text" name="name" placeholder="Enter Your Name" id="name" required>
                </div>
                <div class="input">
                    <label for="email">Email</label>
                    <input type="email" name="email" placeholder="Enter Your Email" id="email" required>
                </div>
            </div>
            <div class="row">
                <div class="input">
                    <label for="subject">Subject</label>
                    <input type="text" name="subject" placeholder="Subject" id="subject" required>
                </div>
                <div class="input">
                    <label for="profession">Profession (optional)</label>
                    <input type="text" name="profession" placeholder="Enter Your Profession" id="profession">
                </div>
            </div>
            <div class="comment">
                <label for="comment">Comments</label>
                <textarea name="message" id="comment" rows="4" placeholder="Type details about your enquiry" required></textarea>
            </div>
            <button type="submit">Send Message</button>
        </form>
        
    </div>
    <div class="location">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3581.8149767366044!2d73.0508510749802!3d19.18359748204328!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be7bfb016766b43%3A0x12dc19a796b22856!2sDiva-Agasan%20Rd%2C%20Thane%2C%20Maharashtra%20400612!5e1!3m2!1sen!2sin!4v1736587668324!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>    
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const form = document.querySelector('form');
    form.addEventListener('submit', async (e) => {
        e.preventDefault(); // Prevent default form submission
        const formData = new FormData(form);
        try {
            const response = await fetch(form.action, {
                method: form.method,
                body: formData,
            });
            const result = await response.json();
            if (result.success) {
                // Show success popup
                Swal.fire({
                    icon: 'success',
                    title: 'Message Sent',
                    text: 'Your message has been sent successfully!',
                });
                form.reset(); // Clear the form
            } else {
                // Show error popup
                Swal.fire({
                    icon: 'error',
                    title: 'Failed to Send',
                    text: result.message || 'An error occurred while sending your message.',
                });
            }
        } catch (error) {
            // Show error popup for exceptions
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'An error occurred: ' + error.message,
            });
        }
    });
</script>
